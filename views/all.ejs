<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Login/Signup for Ask me Anything App"/>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script type="text/javascript" src="/javascripts/allScripts.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
    <title>Ask me Anything</title>
    <script>
        localStorage.setItem("items", 10);
    </script>
</head>
<body>
<div>
    <div role="navigation" class="navbar justify-content-around navbar-light bg-light shadow-sm">
        <a href="/"><img src="/logo192.png" width="75" height="75"></a>
        <h1 class="col-10 text-center">Ask me Anything!</h1>
        <div class="d-grid gap-1 col-1 me-3">
            <%if (isLogged) {%>
                <a class="btn btn-primary">My Profile</a>
                <button onclick="logout()" class="btn btn-primary">Log Out</button>
            <%} else {%>
                <a href="/login" class="btn btn-primary">Log In</a>
            <%}%>
        </div>
    </div>

    <div class="container pb-5 mt-4">
        <%if (!answers){%>
        <%data.map(question => {%>
            <%const link = "/question/"+question['qId']%>
            <div class="row border justify-content-start">
                <a class="fs-2" href=<%-link%>><%-question['title']%></a>
                <text><%-question['text']%></text>
                <text><%-question['keywords']%></text>
            </div>
        <%})} else {%>
        <%data.map(ans => {%>
            <%const link = "/question/"+ans['questionQId']%>
            <div class="row border justify-content-start">
                <a class="fs-2" href=<%-link%>><%-ans.question['title']%></a>
                <text>My answer: <%-ans['text']%></text>
            </div>
        <%})}%>
    <div id="more"></div>
    </div>
    <div class="row justify-content-center">
        <%var handler;%>
        <%if (answers) {%>
        <%  handler = "showMoreUsersAnswers()"%>
        <%}else if (!answers && forUser){%>
        <%  handler = "showMoreUsersQuestions()"%>
        <%}else { %>
        <%  handler = "showMoreQuestions()"%>
        <%}%>
        <button onclick="<%-handler%>" class="col-auto btn btn-primary">Show more Questions</button>
    </div>
</div>
</body>
</html>